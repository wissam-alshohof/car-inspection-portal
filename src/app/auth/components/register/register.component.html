<app-layout></app-layout>
<div class="absolute flex z-10 justify-center items-end content-end sm:items-center sm:content-start sm:justify-start md:pl-[20vw] h-screen w-full px-8 pb-16">

    <div class="relative flex p-4 flex-grow-0 gap-4 rounded-md"
        [ngClass]="{'flex-col':layoutService.applyBlur$ | async}">
        <div class="flex gap-4 sm:gap-16 flex-col" *ngIf="!(layoutService.applyBlur$ | async)">
            <div class="flex flex-col gap-4 max-w-[296px]">
                <h1 class=" text-gold font-semibold md:text-3xl drop-shadow-sm [text-shadow:0_0_8px_gold]">Welcome to Car Inspection!</h1>
                <p class="hidden sm:block text-gold md:text-xl [text-shadow:0_0_2px_gold]">Drive with confidence. Inspected with care</p>
            </div>
            <div class="flex gap-4 justify-center sm:justify-start">
                <button class="tw-btn-primary" (click)="toggleForm()">Register</button>
                <button class="tw-btn-primary" (click)="toggleForm();onLogin =true">Login</button>
            </div>
        </div>

        <form [@leftUp380]="layoutService.applyBlur$ | async" *ngIf="!onLogin && (layoutService.applyBlur$ | async)"
            [formGroup]="form" class="flex flex-col gap-10">

            <app-input type="text" keyName="username" label="Username" />
            <app-input type="email" keyName="email" label="Email" />
            <app-input type="password" keyName="password" label="Password" />
            <button [disabled]="form.invalid" class="tw-btn-primary" (click)="form.valid && signup()">Sign up</button>
            <mat-icon aria-hidden="false" class="text-royal m-auto text-2xl cursor-pointer" (click)="reset()" fontIcon="subdirectory_arrow_left"></mat-icon>
        </form>
        <form [@leftUp270]="layoutService.applyBlur$ | async" *ngIf="onLogin && (layoutService.applyBlur$ | async)"
            [formGroup]="form" #signin class="flex flex-col gap-8">

            <app-input type="email" keyName="email" keyName="email" label="Email" />
            <app-input type="password" keyName="password" keyName="password" label="Password" />
            <button [disabled]="!(form.controls.email.valid && form.controls.password.valid)" class="tw-btn-primary flex-grow-0" (click)="login()">Login</button>
            <mat-icon aria-hidden="false" class="text-royal m-auto text-2xl cursor-pointer" (click)="reset()" fontIcon="subdirectory_arrow_left"></mat-icon>
        </form>
    </div>
</div>